<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chess Opening Visualizer - Learn Chess Openings Interactively</title>
    <meta name="description" content="Interactive chess opening visualizer. Learn Italian Opening, Evans Gambit, and Scandinavian Defense with step-by-step visual demonstrations.">
    <meta name="keywords" content="chess, opening, visualizer, Italian opening, Evans gambit, Scandinavian defense, chess tutorial, chess learning">
    <meta name="author" content="Mahmoud Elshenhab">
    
    <!-- Open Graph meta tags -->
    <meta property="og:title" content="Chess Opening Visualizer">
    <meta property="og:description" content="Learn chess openings interactively with visual demonstrations">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://shenhab.github.io/ChessGambits/">
    
    <!-- Twitter meta tags -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Chess Opening Visualizer">
    <meta name="twitter:description" content="Learn chess openings interactively with visual demonstrations">
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>‚ôüÔ∏è</text></svg>">
    
    <style>
        /* Modern CSS Reset */
        *, *::before, *::after {
            box-sizing: border-box;
        }
        
        * {
            margin: 0;
        }
        
        body {
            line-height: 1.5;
            -webkit-font-smoothing: antialiased;
            font-family: 'Segoe UI', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        /* Main container */
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            animation: fadeIn 0.8s ease-out;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Header */
        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5rem;
            font-weight: 300;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
            margin: 0;
        }
        
        /* Main content */
        .content {
            padding: 30px;
        }
        
        /* Opening selector */
        .opening-selector {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .opening-selector label {
            font-size: 1.2rem;
            font-weight: 600;
            color: #2c3e50;
            margin-right: 15px;
            display: block;
            margin-bottom: 10px;
        }
        
        select {
            padding: 12px 20px;
            font-size: 1.1rem;
            border: 2px solid #e1e8ed;
            border-radius: 10px;
            background: white;
            min-width: 280px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #2c3e50;
            font-weight: 500;
        }
        
        select:hover {
            border-color: #667eea;
        }
        
        select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        /* Chess board */
        .board-container {
            display: flex;
            justify-content: center;
            margin: 30px 0;
        }
        
        .chess-board {
            display: grid;
            grid-template-columns: repeat(8, 65px);
            grid-template-rows: repeat(8, 65px);
            border: 4px solid #2c3e50;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15);
            transition: transform 0.3s ease;
        }
        
        .chess-board:hover {
            transform: scale(1.02);
        }
        
        .square {
            width: 65px;
            height: 65px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            position: relative;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .square:hover {
            transform: scale(1.1);
            z-index: 10;
            border-radius: 8px;
        }
        
        .light {
            background-color: #f0d9b5;
        }
        
        .dark {
            background-color: #b58863;
        }
        
        .square:hover.light {
            background-color: #f5e6c8;
        }
        
        .square:hover.dark {
            background-color: #c19a74;
        }
        
        /* Coordinates */
        .coordinates {
            position: absolute;
            font-size: 11px;
            font-weight: bold;
            color: rgba(0, 0, 0, 0.4);
            pointer-events: none;
        }
        
        .coord-file {
            bottom: 2px;
            right: 3px;
        }
        
        .coord-rank {
            top: 2px;
            left: 3px;
        }
        
        /* Chess pieces */
        .piece {
            font-size: 40px;
            line-height: 1;
            transition: all 0.3s ease;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
            user-select: none;
        }
        
        .piece:hover {
            transform: scale(1.2);
            filter: brightness(1.1);
        }
        
        /* Controls */
        .controls {
            text-align: center;
            margin: 30px 0;
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 14px 28px;
            font-size: 1.1rem;
            font-weight: 600;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            min-width: 120px;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }
        
        .btn:active {
            transform: translateY(0);
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }
        
        .btn-success {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
        }
        
        .btn:disabled {
            background: #95a5a6;
            color: white;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
            opacity: 0.6;
        }
        
        .btn:disabled:hover {
            transform: none;
            box-shadow: none;
        }
        
        /* Move info */
        .move-info {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            margin: 30px 0;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
            animation: slideUp 0.5s ease-out;
        }
        
        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .move-info h3 {
            font-size: 1.8rem;
            margin-bottom: 15px;
            font-weight: 600;
        }
        
        .move-info p {
            font-size: 1.1rem;
            line-height: 1.6;
            margin: 0;
            opacity: 0.95;
        }
        
        /* Footer */
        .footer {
            background: #f8f9fa;
            padding: 25px;
            text-align: center;
            border-top: 1px solid #e1e8ed;
            color: #6c757d;
        }
        
        .footer a {
            color: #667eea;
            text-decoration: none;
            font-weight: 500;
        }
        
        .footer a:hover {
            text-decoration: underline;
        }
        
        /* GitHub corner */
        .github-corner {
            position: fixed;
            top: 0;
            right: 0;
            z-index: 1000;
        }
        
        .github-corner svg {
            fill: #2c3e50;
            color: white;
            position: absolute;
            top: 0;
            border: 0;
            right: 0;
        }
        
        .github-corner:hover .octo-arm {
            animation: octocat-wave 560ms ease-in-out;
        }
        
        @keyframes octocat-wave {
            0%, 20%, 60%, 100% {
                transform: rotate(0);
            }
            40%, 80% {
                transform: rotate(-25deg);
            }
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .chess-board {
                grid-template-columns: repeat(8, 45px);
                grid-template-rows: repeat(8, 45px);
            }
            
            .square {
                width: 45px;
                height: 45px;
                font-size: 30px;
            }
            
            .piece {
                font-size: 30px;
            }
            
            .content {
                padding: 20px;
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            .btn {
                width: 100%;
                max-width: 250px;
            }
            
            select {
                min-width: 250px;
            }
            
            .move-info h3 {
                font-size: 1.5rem;
            }
            
            .move-info p {
                font-size: 1rem;
            }
        }
        
        @media (max-width: 480px) {
            .chess-board {
                grid-template-columns: repeat(8, 35px);
                grid-template-rows: repeat(8, 35px);
            }
            
            .square {
                width: 35px;
                height: 35px;
                font-size: 24px;
            }
            
            .piece {
                font-size: 24px;
            }
            
            .header {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 1.8rem;
            }
            
            .header p {
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- GitHub Corner -->
    <a href="https://github.com/shenhab/ChessGambits" class="github-corner" aria-label="View source on GitHub">
        <svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true">
            <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
            <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
            <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path>
        </svg>
    </a>

    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1>‚ôüÔ∏è Chess Opening Visualizer ‚ôî</h1>
            <p>Learn chess openings through interactive visual demonstrations</p>
        </header>

        <!-- Main content -->
        <main class="content">
            <!-- Opening selector -->
            <div class="opening-selector">
                <label for="opening">Choose Your Opening to Study:</label>
                <select id="opening" onchange="loadOpening()" aria-label="Select chess opening">
                    <option value="italian">üèõÔ∏è Italian Opening - Classical</option>
                    <option value="evans">‚öîÔ∏è Evans Gambit - Aggressive Attack!</option>
                    <option value="scandinavian">üõ°Ô∏è vs Scandinavian Defense</option>
                    <option value="budapest">üî• Budapest Gambit - Black's Counter!</option>
                    <option value="albin">‚ö° Albin Counter-Gambit - Strike Back!</option>
                    <option value="latvian">üöÄ Latvian Gambit - Ultimate Risk!</option>
                    <option value="elephant">üêò Elephant Gambit - Wild Attack!</option>
                </select>
            </div>

            <!-- Chess board -->
            <div class="board-container">
                <div class="chess-board" id="board" role="grid" aria-label="Chess board"></div>
            </div>

            <!-- Controls -->
            <div class="controls">
                <button onclick="previousMove()" id="prevBtn" class="btn btn-secondary" aria-label="Previous move">
                    ‚Üê Previous
                </button>
                <button onclick="nextMove()" id="nextBtn" class="btn btn-primary" aria-label="Next move">
                    Next ‚Üí
                </button>
                <button onclick="resetBoard()" class="btn btn-success" aria-label="Reset to starting position">
                    üîÑ Reset
                </button>
            </div>

            <!-- Move information -->
            <div class="move-info" id="moveInfo" role="status" aria-live="polite">
                <h3>Starting Position</h3>
                <p>Choose an opening above and click "Next" to begin your chess journey!</p>
            </div>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>Made with ‚ù§Ô∏è for chess enthusiasts | <a href="https://github.com/shenhab/ChessGambits">View on GitHub</a></p>
        </footer>
    </div>

    <script>
        // Chess piece symbols (Unicode)
        const pieces = {
            'K': '‚ôî', 'Q': '‚ôï', 'R': '‚ôñ', 'B': '‚ôó', 'N': '‚ôò', 'P': '‚ôô',
            'k': '‚ôö', 'q': '‚ôõ', 'r': '‚ôú', 'b': '‚ôù', 'n': '‚ôû', 'p': '‚ôü'
        };
        
        // Starting chess position
        const startingPosition = [
            ['r', 'n', 'b', 'q', 'k', 'b', 'n', 'r'],
            ['p', 'p', 'p', 'p', 'p', 'p', 'p', 'p'],
            ['.', '.', '.', '.', '.', '.', '.', '.'],
            ['.', '.', '.', '.', '.', '.', '.', '.'],
            ['.', '.', '.', '.', '.', '.', '.', '.'],
            ['.', '.', '.', '.', '.', '.', '.', '.'],
            ['P', 'P', 'P', 'P', 'P', 'P', 'P', 'P'],
            ['R', 'N', 'B', 'Q', 'K', 'B', 'N', 'R']
        ];
        
        // Chess opening definitions - shortened for demonstration
        const openings = {
            italian: {
                name: "Italian Opening - Classical",
                moves: [
                    {
                        move: "Starting Position",
                        description: "The game begins. Both sides have equal chances. White moves first!",
                        position: startingPosition
                    },
                    {
                        move: "1. e4",
                        description: "White opens with the King's pawn, controlling the center squares d5 and f5. This is one of the most fundamental chess principles!",
                        position: [
                            ['r', 'n', 'b', 'q', 'k', 'b', 'n', 'r'],
                            ['p', 'p', 'p', 'p', 'p', 'p', 'p', 'p'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', 'P', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['P', 'P', 'P', 'P', '.', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', 'N', 'R']
                        ]
                    },
                    {
                        move: "1... e5",
                        description: "Black responds symmetrically, claiming central space. This leads to open, tactical games!",
                        position: [
                            ['r', 'n', 'b', 'q', 'k', 'b', 'n', 'r'],
                            ['p', 'p', 'p', 'p', '.', 'p', 'p', 'p'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', 'p', '.', '.', '.'],
                            ['.', '.', '.', '.', 'P', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['P', 'P', 'P', 'P', '.', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', 'N', 'R']
                        ]
                    },
                    {
                        move: "2. Nf3",
                        description: "White develops the knight with tempo, attacking Black's e5 pawn. Knights before bishops!",
                        position: [
                            ['r', 'n', 'b', 'q', 'k', 'b', 'n', 'r'],
                            ['p', 'p', 'p', 'p', '.', 'p', 'p', 'p'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', 'p', '.', '.', '.'],
                            ['.', '.', '.', '.', 'P', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', 'N', '.', '.'],
                            ['P', 'P', 'P', 'P', '.', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', '.', 'R']
                        ]
                    },
                    {
                        move: "2... Nc6",
                        description: "Black defends the e5 pawn with the knight. Solid development!",
                        position: [
                            ['r', '.', 'b', 'q', 'k', 'b', 'n', 'r'],
                            ['p', 'p', 'p', 'p', '.', 'p', 'p', 'p'],
                            ['.', '.', 'n', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', 'p', '.', '.', '.'],
                            ['.', '.', '.', '.', 'P', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', 'N', '.', '.'],
                            ['P', 'P', 'P', 'P', '.', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', '.', 'R']
                        ]
                    },
                    {
                        move: "3. Bc4",
                        description: "The Italian Opening! The bishop targets f7, Black's weakest square in the opening.",
                        position: [
                            ['r', '.', 'b', 'q', 'k', 'b', 'n', 'r'],
                            ['p', 'p', 'p', 'p', '.', 'p', 'p', 'p'],
                            ['.', '.', 'n', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', 'p', '.', '.', '.'],
                            ['.', '.', 'B', '.', 'P', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', 'N', '.', '.'],
                            ['P', 'P', 'P', 'P', '.', 'P', 'P', 'P'],
                            ['R', 'N', '.', 'Q', 'K', '.', '.', 'R']
                        ]
                    },
                    {
                        move: "3... Bc5",
                        description: "Black develops symmetrically. Both bishops eye weak points, creating tactical possibilities!",
                        position: [
                            ['r', '.', '.', 'q', 'k', '.', 'n', 'r'],
                            ['p', 'p', 'p', 'p', '.', 'p', 'p', 'p'],
                            ['.', '.', 'n', '.', '.', '.', '.', '.'],
                            ['.', '.', 'b', '.', 'p', '.', '.', '.'],
                            ['.', '.', 'B', '.', 'P', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', 'N', '.', '.'],
                            ['P', 'P', 'P', 'P', '.', 'P', 'P', 'P'],
                            ['R', 'N', '.', 'Q', 'K', '.', '.', 'R']
                        ]
                    },
                    {
                        move: "4. c3",
                        description: "Classical continuation: White prepares d4 to challenge the center. Solid and strategic!",
                        position: [
                            ['r', '.', '.', 'q', 'k', '.', 'n', 'r'],
                            ['p', 'p', 'p', 'p', '.', 'p', 'p', 'p'],
                            ['.', '.', 'n', '.', '.', '.', '.', '.'],
                            ['.', '.', 'b', '.', 'p', '.', '.', '.'],
                            ['.', '.', 'B', '.', 'P', '.', '.', '.'],
                            ['.', '.', 'P', '.', '.', 'N', '.', '.'],
                            ['P', 'P', '.', 'P', '.', 'P', 'P', 'P'],
                            ['R', 'N', '.', 'Q', 'K', '.', '.', 'R']
                        ]
                    },
                    {
                        move: "4... Nf6",
                        description: "Black develops the knight, attacking e4. The position is balanced with rich play ahead!",
                        position: [
                            ['r', '.', '.', 'q', 'k', '.', '.', 'r'],
                            ['p', 'p', 'p', 'p', '.', 'p', 'p', 'p'],
                            ['.', '.', 'n', '.', '.', 'n', '.', '.'],
                            ['.', '.', 'b', '.', 'p', '.', '.', '.'],
                            ['.', '.', 'B', '.', 'P', '.', '.', '.'],
                            ['.', '.', 'P', '.', '.', 'N', '.', '.'],
                            ['P', 'P', '.', 'P', '.', 'P', 'P', 'P'],
                            ['R', 'N', '.', 'Q', 'K', '.', '.', 'R']
                        ]
                    }
                ]
            },
            evans: {
                name: "Evans Gambit - Aggressive Attack!",
                moves: [
                    {
                        move: "Starting Position",
                        description: "Get ready for one of chess's most exciting gambits!",
                        position: startingPosition
                    },
                    {
                        move: "1. e4",
                        description: "White begins with the classic King's pawn opening.",
                        position: [
                            ['r', 'n', 'b', 'q', 'k', 'b', 'n', 'r'],
                            ['p', 'p', 'p', 'p', 'p', 'p', 'p', 'p'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', 'P', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['P', 'P', 'P', 'P', '.', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', 'N', 'R']
                        ]
                    },
                    {
                        move: "1... e5",
                        description: "Black responds symmetrically.",
                        position: [
                            ['r', 'n', 'b', 'q', 'k', 'b', 'n', 'r'],
                            ['p', 'p', 'p', 'p', '.', 'p', 'p', 'p'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', 'p', '.', '.', '.'],
                            ['.', '.', '.', '.', 'P', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['P', 'P', 'P', 'P', '.', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', 'N', 'R']
                        ]
                    },
                    {
                        move: "2. Nf3",
                        description: "Developing with tempo!",
                        position: [
                            ['r', 'n', 'b', 'q', 'k', 'b', 'n', 'r'],
                            ['p', 'p', 'p', 'p', '.', 'p', 'p', 'p'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', 'p', '.', '.', '.'],
                            ['.', '.', '.', '.', 'P', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', 'N', '.', '.'],
                            ['P', 'P', 'P', 'P', '.', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', '.', 'R']
                        ]
                    },
                    {
                        move: "2... Nc6",
                        description: "Black defends the center pawn.",
                        position: [
                            ['r', '.', 'b', 'q', 'k', 'b', 'n', 'r'],
                            ['p', 'p', 'p', 'p', '.', 'p', 'p', 'p'],
                            ['.', '.', 'n', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', 'p', '.', '.', '.'],
                            ['.', '.', '.', '.', 'P', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', 'N', '.', '.'],
                            ['P', 'P', 'P', 'P', '.', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', '.', 'R']
                        ]
                    },
                    {
                        move: "3. Bc4",
                        description: "Italian Opening setup - the bishop targets f7!",
                        position: [
                            ['r', '.', 'b', 'q', 'k', 'b', 'n', 'r'],
                            ['p', 'p', 'p', 'p', '.', 'p', 'p', 'p'],
                            ['.', '.', 'n', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', 'p', '.', '.', '.'],
                            ['.', '.', 'B', '.', 'P', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', 'N', '.', '.'],
                            ['P', 'P', 'P', 'P', '.', 'P', 'P', 'P'],
                            ['R', 'N', '.', 'Q', 'K', '.', '.', 'R']
                        ]
                    },
                    {
                        move: "3... Bc5",
                        description: "Black develops symmetrically, but White has a shocking surprise!",
                        position: [
                            ['r', '.', '.', 'q', 'k', '.', 'n', 'r'],
                            ['p', 'p', 'p', 'p', '.', 'p', 'p', 'p'],
                            ['.', '.', 'n', '.', '.', '.', '.', '.'],
                            ['.', '.', 'b', '.', 'p', '.', '.', '.'],
                            ['.', '.', 'B', '.', 'P', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', 'N', '.', '.'],
                            ['P', 'P', 'P', 'P', '.', 'P', 'P', 'P'],
                            ['R', 'N', '.', 'Q', 'K', '.', '.', 'R']
                        ]
                    },
                    {
                        move: "4. b4!?",
                        description: "THE EVANS GAMBIT! White sacrifices a pawn for rapid development and attack!",
                        position: [
                            ['r', '.', '.', 'q', 'k', '.', 'n', 'r'],
                            ['p', 'p', 'p', 'p', '.', 'p', 'p', 'p'],
                            ['.', '.', 'n', '.', '.', '.', '.', '.'],
                            ['.', '.', 'b', '.', 'p', '.', '.', '.'],
                            ['.', 'P', 'B', '.', 'P', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', 'N', '.', '.'],
                            ['P', '.', 'P', 'P', '.', 'P', 'P', 'P'],
                            ['R', 'N', '.', 'Q', 'K', '.', '.', 'R']
                        ]
                    },
                    {
                        move: "4... Bxb4",
                        description: "Black accepts the gambit! White gets tremendous compensation!",
                        position: [
                            ['r', '.', '.', 'q', 'k', '.', 'n', 'r'],
                            ['p', 'p', 'p', 'p', '.', 'p', 'p', 'p'],
                            ['.', '.', 'n', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', 'p', '.', '.', '.'],
                            ['.', 'b', 'B', '.', 'P', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', 'N', '.', '.'],
                            ['P', '.', 'P', 'P', '.', 'P', 'P', 'P'],
                            ['R', 'N', '.', 'Q', 'K', '.', '.', 'R']
                        ]
                    },
                    {
                        move: "5. c3",
                        description: "White attacks the bishop and prepares d4 - gaining crucial tempo!",
                        position: [
                            ['r', '.', '.', 'q', 'k', '.', 'n', 'r'],
                            ['p', 'p', 'p', 'p', '.', 'p', 'p', 'p'],
                            ['.', '.', 'n', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', 'p', '.', '.', '.'],
                            ['.', 'b', 'B', '.', 'P', '.', '.', '.'],
                            ['.', '.', 'P', '.', '.', 'N', '.', '.'],
                            ['P', '.', '.', 'P', '.', 'P', 'P', 'P'],
                            ['R', 'N', '.', 'Q', 'K', '.', '.', 'R']
                        ]
                    },
                    {
                        move: "5... Ba5",
                        description: "Black retreats the bishop, but White has gained precious time!",
                        position: [
                            ['r', '.', '.', 'q', 'k', '.', 'n', 'r'],
                            ['p', 'p', 'p', 'p', '.', 'p', 'p', 'p'],
                            ['.', '.', 'n', '.', '.', '.', '.', '.'],
                            ['b', '.', '.', '.', 'p', '.', '.', '.'],
                            ['.', '.', 'B', '.', 'P', '.', '.', '.'],
                            ['.', '.', 'P', '.', '.', 'N', '.', '.'],
                            ['P', '.', '.', 'P', '.', 'P', 'P', 'P'],
                            ['R', 'N', '.', 'Q', 'K', '.', '.', 'R']
                        ]
                    },
                    {
                        move: "6. d4",
                        description: "CENTER EXPLOSION! White seizes massive central control!",
                        position: [
                            ['r', '.', '.', 'q', 'k', '.', 'n', 'r'],
                            ['p', 'p', 'p', 'p', '.', 'p', 'p', 'p'],
                            ['.', '.', 'n', '.', '.', '.', '.', '.'],
                            ['b', '.', '.', '.', 'p', '.', '.', '.'],
                            ['.', '.', 'B', 'P', 'P', '.', '.', '.'],
                            ['.', '.', 'P', '.', '.', 'N', '.', '.'],
                            ['P', '.', '.', '.', '.', 'P', 'P', 'P'],
                            ['R', 'N', '.', 'Q', 'K', '.', '.', 'R']
                        ]
                    },
                    {
                        move: "6... exd4",
                        description: "Black captures, but White's center will dominate!",
                        position: [
                            ['r', '.', '.', 'q', 'k', '.', 'n', 'r'],
                            ['p', 'p', 'p', 'p', '.', 'p', 'p', 'p'],
                            ['.', '.', 'n', '.', '.', '.', '.', '.'],
                            ['b', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', 'B', 'p', 'P', '.', '.', '.'],
                            ['.', '.', 'P', '.', '.', 'N', '.', '.'],
                            ['P', '.', '.', '.', '.', 'P', 'P', 'P'],
                            ['R', 'N', '.', 'Q', 'K', '.', '.', 'R']
                        ]
                    },
                    {
                        move: "7. 0-0!",
                        description: "White castles! The king is safe and all pieces are ready to attack!",
                        position: [
                            ['r', '.', '.', 'q', 'k', '.', 'n', 'r'],
                            ['p', 'p', 'p', 'p', '.', 'p', 'p', 'p'],
                            ['.', '.', 'n', '.', '.', '.', '.', '.'],
                            ['b', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', 'B', 'p', 'P', '.', '.', '.'],
                            ['.', '.', 'P', '.', '.', 'N', '.', '.'],
                            ['P', '.', '.', '.', '.', 'P', 'P', 'P'],
                            ['R', 'N', '.', 'Q', '.', 'R', 'K', '.']
                        ]
                    }
                ]
            },
            scandinavian: {
                name: "Against Scandinavian Defense",
                moves: [
                    {
                        move: "Starting Position",
                        description: "Get ready to face the aggressive Scandinavian Defense!",
                        position: startingPosition
                    },
                    {
                        move: "1. e4",
                        description: "White opens with the King's pawn.",
                        position: [
                            ['r', 'n', 'b', 'q', 'k', 'b', 'n', 'r'],
                            ['p', 'p', 'p', 'p', 'p', 'p', 'p', 'p'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', 'P', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['P', 'P', 'P', 'P', '.', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', 'N', 'R']
                        ]
                    },
                    {
                        move: "1... d5",
                        description: "The Scandinavian Defense! Black immediately challenges White's center!",
                        position: [
                            ['r', 'n', 'b', 'q', 'k', 'b', 'n', 'r'],
                            ['p', 'p', 'p', '.', 'p', 'p', 'p', 'p'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', 'p', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', 'P', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['P', 'P', 'P', 'P', '.', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', 'N', 'R']
                        ]
                    },
                    {
                        move: "2. exd5",
                        description: "White captures - the best response. Declining would be too passive.",
                        position: [
                            ['r', 'n', 'b', 'q', 'k', 'b', 'n', 'r'],
                            ['p', 'p', 'p', '.', 'p', 'p', 'p', 'p'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', 'P', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['P', 'P', 'P', 'P', '.', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', 'N', 'R']
                        ]
                    },
                    {
                        move: "2... Qxd5",
                        description: "Black brings the queen out early - breaking opening principles but necessary!",
                        position: [
                            ['r', 'n', 'b', '.', 'k', 'b', 'n', 'r'],
                            ['p', 'p', 'p', '.', 'p', 'p', 'p', 'p'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', 'q', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['P', 'P', 'P', 'P', '.', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', 'N', 'R']
                        ]
                    },
                    {
                        move: "3. Nc3",
                        description: "Perfect! White develops with tempo, attacking the exposed queen!",
                        position: [
                            ['r', 'n', 'b', '.', 'k', 'b', 'n', 'r'],
                            ['p', 'p', 'p', '.', 'p', 'p', 'p', 'p'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', 'q', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', 'N', '.', '.', '.', '.', '.'],
                            ['P', 'P', 'P', 'P', '.', 'P', 'P', 'P'],
                            ['R', '.', 'B', 'Q', 'K', 'B', 'N', 'R']
                        ]
                    },
                    {
                        move: "3... Qa5",
                        description: "Black moves the queen to safety. White has a lead in development!",
                        position: [
                            ['r', 'n', 'b', '.', 'k', 'b', 'n', 'r'],
                            ['p', 'p', 'p', '.', 'p', 'p', 'p', 'p'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['q', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', 'N', '.', '.', '.', '.', '.'],
                            ['P', 'P', 'P', 'P', '.', 'P', 'P', 'P'],
                            ['R', '.', 'B', 'Q', 'K', 'B', 'N', 'R']
                        ]
                    },
                    {
                        move: "4. d4",
                        description: "White seizes the center! Superior piece development is the key advantage.",
                        position: [
                            ['r', 'n', 'b', '.', 'k', 'b', 'n', 'r'],
                            ['p', 'p', 'p', '.', 'p', 'p', 'p', 'p'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['q', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', 'P', '.', '.', '.', '.'],
                            ['.', '.', 'N', '.', '.', '.', '.', '.'],
                            ['P', 'P', 'P', '.', '.', 'P', 'P', 'P'],
                            ['R', '.', 'B', 'Q', 'K', 'B', 'N', 'R']
                        ]
                    },
                    {
                        move: "4... Nf6",
                        description: "Black finally develops a piece. White has a comfortable advantage!",
                        position: [
                            ['r', 'n', 'b', '.', 'k', 'b', '.', 'r'],
                            ['p', 'p', 'p', '.', 'p', 'p', 'p', 'p'],
                            ['.', '.', '.', '.', '.', 'n', '.', '.'],
                            ['q', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', 'P', '.', '.', '.', '.'],
                            ['.', '.', 'N', '.', '.', '.', '.', '.'],
                            ['P', 'P', 'P', '.', '.', 'P', 'P', 'P'],
                            ['R', '.', 'B', 'Q', 'K', 'B', 'N', 'R']
                        ]
                    },
                    {
                        move: "5. Nf3",
                        description: "White continues developing naturally. The opening advantage is clear!",
                        position: [
                            ['r', 'n', 'b', '.', 'k', 'b', '.', 'r'],
                            ['p', 'p', 'p', '.', 'p', 'p', 'p', 'p'],
                            ['.', '.', '.', '.', '.', 'n', '.', '.'],
                            ['q', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', 'P', '.', '.', '.', '.'],
                            ['.', '.', 'N', '.', '.', 'N', '.', '.'],
                            ['P', 'P', 'P', '.', '.', 'P', 'P', 'P'],
                            ['R', '.', 'B', 'Q', 'K', 'B', '.', 'R']
                        ]
                    }
                ]
            },
            budapest: {
                name: "Budapest Gambit - Black's Aggressive Counter!",
                moves: [
                    {
                        move: "Starting Position",
                        description: "Get ready for one of Black's most aggressive gambits against 1.d4!",
                        position: [
                            ['r', 'n', 'b', 'q', 'k', 'b', 'n', 'r'],
                            ['p', 'p', 'p', 'p', 'p', 'p', 'p', 'p'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['P', 'P', 'P', 'P', 'P', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', 'N', 'R']
                        ]
                    },
                    {
                        move: "1. d4",
                        description: "White opens with the Queen's pawn, aiming for solid central control.",
                        position: [
                            ['r', 'n', 'b', 'q', 'k', 'b', 'n', 'r'],
                            ['p', 'p', 'p', 'p', 'p', 'p', 'p', 'p'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', 'P', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['P', 'P', 'P', '.', 'P', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', 'N', 'R']
                        ]
                    },
                    {
                        move: "1... Nf6",
                        description: "Black develops the knight, controlling key central squares.",
                        position: [
                            ['r', 'n', 'b', 'q', 'k', 'b', '.', 'r'],
                            ['p', 'p', 'p', 'p', 'p', 'p', 'p', 'p'],
                            ['.', '.', '.', '.', '.', 'n', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', 'P', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['P', 'P', 'P', '.', 'P', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', 'N', 'R']
                        ]
                    },
                    {
                        move: "2. c4",
                        description: "White plays the English Opening setup, supporting the center.",
                        position: [
                            ['r', 'n', 'b', 'q', 'k', 'b', '.', 'r'],
                            ['p', 'p', 'p', 'p', 'p', 'p', 'p', 'p'],
                            ['.', '.', '.', '.', '.', 'n', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', 'P', 'P', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['P', 'P', '.', '.', 'P', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', 'N', 'R']
                        ]
                    },
                    {
                        move: "2... e5!?",
                        description: "THE BUDAPEST GAMBIT! Black sacrifices a pawn for rapid development and kingside attack!",
                        position: [
                            ['r', 'n', 'b', 'q', 'k', 'b', '.', 'r'],
                            ['p', 'p', 'p', 'p', '.', 'p', 'p', 'p'],
                            ['.', '.', '.', '.', '.', 'n', '.', '.'],
                            ['.', '.', '.', '.', 'p', '.', '.', '.'],
                            ['.', '.', 'P', 'P', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['P', 'P', '.', '.', 'P', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', 'N', 'R']
                        ]
                    },
                    {
                        move: "3. dxe5",
                        description: "White accepts the gambit pawn.",
                        position: [
                            ['r', 'n', 'b', 'q', 'k', 'b', '.', 'r'],
                            ['p', 'p', 'p', 'p', '.', 'p', 'p', 'p'],
                            ['.', '.', '.', '.', '.', 'n', '.', '.'],
                            ['.', '.', '.', '.', 'P', '.', '.', '.'],
                            ['.', '.', 'P', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['P', 'P', '.', '.', 'P', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', 'N', 'R']
                        ]
                    },
                    {
                        move: "3... Ng4!",
                        description: "Black attacks f2 and h2! The knight creates immediate threats against White's kingside!",
                        position: [
                            ['r', 'n', 'b', 'q', 'k', 'b', '.', 'r'],
                            ['p', 'p', 'p', 'p', '.', 'p', 'p', 'p'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', 'P', '.', '.', '.'],
                            ['.', '.', 'P', '.', '.', '.', 'n', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['P', 'P', '.', '.', 'P', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', 'N', 'R']
                        ]
                    },
                    {
                        move: "4. Bf4",
                        description: "White develops the bishop, defending against tactics.",
                        position: [
                            ['r', 'n', 'b', 'q', 'k', 'b', '.', 'r'],
                            ['p', 'p', 'p', 'p', '.', 'p', 'p', 'p'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', 'P', '.', '.', '.'],
                            ['.', '.', 'P', '.', '.', 'B', 'n', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['P', 'P', '.', '.', 'P', 'P', 'P', 'P'],
                            ['R', 'N', '.', 'Q', 'K', '.', 'N', 'R']
                        ]
                    },
                    {
                        move: "4... Nc6",
                        description: "Black develops with tempo, preparing ...Bb4+ and ...Qe7!",
                        position: [
                            ['r', '.', 'b', 'q', 'k', 'b', '.', 'r'],
                            ['p', 'p', 'p', 'p', '.', 'p', 'p', 'p'],
                            ['.', '.', 'n', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', 'P', '.', '.', '.'],
                            ['.', '.', 'P', '.', '.', 'B', 'n', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['P', 'P', '.', '.', 'P', 'P', 'P', 'P'],
                            ['R', 'N', '.', 'Q', 'K', '.', 'N', 'R']
                        ]
                    },
                    {
                        move: "5. Nf3",
                        description: "White develops, but Black has excellent compensation with active pieces!",
                        position: [
                            ['r', '.', 'b', 'q', 'k', 'b', '.', 'r'],
                            ['p', 'p', 'p', 'p', '.', 'p', 'p', 'p'],
                            ['.', '.', 'n', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', 'P', '.', '.', '.'],
                            ['.', '.', 'P', '.', '.', 'B', 'n', '.'],
                            ['.', '.', '.', '.', '.', 'N', '.', '.'],
                            ['P', 'P', '.', '.', 'P', 'P', 'P', 'P'],
                            ['R', 'N', '.', 'Q', 'K', '.', '.', 'R']
                        ]
                    }
                ]
            },
            albin: {
                name: "Albin Counter-Gambit - Black Strikes Back!",
                moves: [
                    {
                        move: "Starting Position",
                        description: "Prepare for Black's sharp counter-attack in the Queen's Gambit!",
                        position: [
                            ['r', 'n', 'b', 'q', 'k', 'b', 'n', 'r'],
                            ['p', 'p', 'p', 'p', 'p', 'p', 'p', 'p'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['P', 'P', 'P', 'P', 'P', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', 'N', 'R']
                        ]
                    },
                    {
                        move: "1. d4",
                        description: "White opens classically with the Queen's pawn.",
                        position: [
                            ['r', 'n', 'b', 'q', 'k', 'b', 'n', 'r'],
                            ['p', 'p', 'p', 'p', 'p', 'p', 'p', 'p'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', 'P', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['P', 'P', 'P', '.', 'P', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', 'N', 'R']
                        ]
                    },
                    {
                        move: "1... d5",
                        description: "Black mirrors White's central control.",
                        position: [
                            ['r', 'n', 'b', 'q', 'k', 'b', 'n', 'r'],
                            ['p', 'p', 'p', '.', 'p', 'p', 'p', 'p'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', 'p', '.', '.', '.', '.'],
                            ['.', '.', '.', 'P', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['P', 'P', 'P', '.', 'P', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', 'N', 'R']
                        ]
                    },
                    {
                        move: "2. c4",
                        description: "The Queen's Gambit! White offers a pawn to disrupt Black's center.",
                        position: [
                            ['r', 'n', 'b', 'q', 'k', 'b', 'n', 'r'],
                            ['p', 'p', 'p', '.', 'p', 'p', 'p', 'p'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', 'p', '.', '.', '.', '.'],
                            ['.', '.', 'P', 'P', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['P', 'P', '.', '.', 'P', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', 'N', 'R']
                        ]
                    },
                    {
                        move: "2... e5!?",
                        description: "THE ALBIN COUNTER-GAMBIT! Black sacrifices the d-pawn to seize the initiative!",
                        position: [
                            ['r', 'n', 'b', 'q', 'k', 'b', 'n', 'r'],
                            ['p', 'p', 'p', '.', '.', 'p', 'p', 'p'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', 'p', 'p', '.', '.', '.'],
                            ['.', '.', 'P', 'P', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['P', 'P', '.', '.', 'P', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', 'N', 'R']
                        ]
                    },
                    {
                        move: "3. dxe5",
                        description: "White accepts the gambit.",
                        position: [
                            ['r', 'n', 'b', 'q', 'k', 'b', 'n', 'r'],
                            ['p', 'p', 'p', '.', '.', 'p', 'p', 'p'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', 'p', 'P', '.', '.', '.'],
                            ['.', '.', 'P', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['P', 'P', '.', '.', 'P', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', 'N', 'R']
                        ]
                    },
                    {
                        move: "3... d4!",
                        description: "Black's pawn advances with tremendous force, cramping White's position!",
                        position: [
                            ['r', 'n', 'b', 'q', 'k', 'b', 'n', 'r'],
                            ['p', 'p', 'p', '.', '.', 'p', 'p', 'p'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', 'P', '.', '.', '.'],
                            ['.', '.', 'P', 'p', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['P', 'P', '.', '.', 'P', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', 'N', 'R']
                        ]
                    },
                    {
                        move: "4. Nf3",
                        description: "White develops normally.",
                        position: [
                            ['r', 'n', 'b', 'q', 'k', 'b', 'n', 'r'],
                            ['p', 'p', 'p', '.', '.', 'p', 'p', 'p'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', 'P', '.', '.', '.'],
                            ['.', '.', 'P', 'p', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', 'N', '.', '.'],
                            ['P', 'P', '.', '.', 'P', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', '.', 'R']
                        ]
                    },
                    {
                        move: "4... Nc6",
                        description: "Black develops with pressure on the e5 pawn.",
                        position: [
                            ['r', '.', 'b', 'q', 'k', 'b', 'n', 'r'],
                            ['p', 'p', 'p', '.', '.', 'p', 'p', 'p'],
                            ['.', '.', 'n', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', 'P', '.', '.', '.'],
                            ['.', '.', 'P', 'p', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', 'N', '.', '.'],
                            ['P', 'P', '.', '.', 'P', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', '.', 'R']
                        ]
                    },
                    {
                        move: "5. g3",
                        description: "White tries to contain the advanced pawn.",
                        position: [
                            ['r', '.', 'b', 'q', 'k', 'b', 'n', 'r'],
                            ['p', 'p', 'p', '.', '.', 'p', 'p', 'p'],
                            ['.', '.', 'n', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', 'P', '.', '.', '.'],
                            ['.', '.', 'P', 'p', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', 'N', 'P', '.'],
                            ['P', 'P', '.', '.', 'P', 'P', '.', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', '.', 'R']
                        ]
                    },
                    {
                        move: "5... Bg4!",
                        description: "Black pins the knight! Excellent piece activity compensates for the pawn deficit!",
                        position: [
                            ['r', '.', '.', 'q', 'k', '.', 'n', 'r'],
                            ['p', 'p', 'p', '.', '.', 'p', 'p', 'p'],
                            ['.', '.', 'n', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', 'P', '.', '.', '.'],
                            ['.', '.', 'P', 'p', '.', '.', 'b', '.'],
                            ['.', '.', '.', '.', '.', 'N', 'P', '.'],
                            ['P', 'P', '.', '.', 'P', 'P', '.', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', '.', 'R']
                        ]
                    }
                ]
            },
            
            latvian: {
                name: "Latvian Gambit - Black's Wildest Attack!",
                moves: [
                    {
                        move: "Starting Position",
                        description: "Prepare for the most aggressive and risky gambit for Black!",
                        position: [
                            ['r', 'n', 'b', 'q', 'k', 'b', 'n', 'r'],
                            ['p', 'p', 'p', 'p', 'p', 'p', 'p', 'p'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['P', 'P', 'P', 'P', 'P', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', 'N', 'R']
                        ]
                    },
                    {
                        move: "1. e4",
                        description: "White opens with the King's pawn.",
                        position: [
                            ['r', 'n', 'b', 'q', 'k', 'b', 'n', 'r'],
                            ['p', 'p', 'p', 'p', 'p', 'p', 'p', 'p'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', 'P', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['P', 'P', 'P', 'P', '.', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', 'N', 'R']
                        ]
                    },
                    {
                        move: "1... e5",
                        description: "Black matches the central advance.",
                        position: [
                            ['r', 'n', 'b', 'q', 'k', 'b', 'n', 'r'],
                            ['p', 'p', 'p', 'p', '.', 'p', 'p', 'p'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', 'p', '.', '.', '.'],
                            ['.', '.', '.', '.', 'P', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['P', 'P', 'P', 'P', '.', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', 'N', 'R']
                        ]
                    },
                    {
                        move: "2. Nf3",
                        description: "White develops the knight, attacking e5.",
                        position: [
                            ['r', 'n', 'b', 'q', 'k', 'b', 'n', 'r'],
                            ['p', 'p', 'p', 'p', '.', 'p', 'p', 'p'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', 'p', '.', '.', '.'],
                            ['.', '.', '.', '.', 'P', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', 'N', '.', '.'],
                            ['P', 'P', 'P', 'P', '.', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', '.', 'R']
                        ]
                    },
                    {
                        move: "2... f5!?",
                        description: "THE LATVIAN GAMBIT! Black offers the f-pawn for wild attacking chances!",
                        position: [
                            ['r', 'n', 'b', 'q', 'k', 'b', 'n', 'r'],
                            ['p', 'p', 'p', 'p', '.', '.', 'p', 'p'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', 'p', 'p', '.', '.'],
                            ['.', '.', '.', '.', 'P', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', 'N', '.', '.'],
                            ['P', 'P', 'P', 'P', '.', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', '.', 'R']
                        ]
                    },
                    {
                        move: "3. Nxe5",
                        description: "White accepts the challenge and captures the e-pawn.",
                        position: [
                            ['r', 'n', 'b', 'q', 'k', 'b', 'n', 'r'],
                            ['p', 'p', 'p', 'p', '.', '.', 'p', 'p'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', 'N', 'p', '.', '.'],
                            ['.', '.', '.', '.', 'P', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['P', 'P', 'P', 'P', '.', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', '.', 'R']
                        ]
                    },
                    {
                        move: "3... Qf6!",
                        description: "Black brings the queen out aggressively, threatening the knight and f2!",
                        position: [
                            ['r', 'n', 'b', '.', 'k', 'b', 'n', 'r'],
                            ['p', 'p', 'p', 'p', '.', '.', 'p', 'p'],
                            ['.', '.', '.', '.', '.', 'q', '.', '.'],
                            ['.', '.', '.', '.', 'N', 'p', '.', '.'],
                            ['.', '.', '.', '.', 'P', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['P', 'P', 'P', 'P', '.', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', '.', 'R']
                        ]
                    },
                    {
                        move: "4. d4",
                        description: "White supports the knight and controls the center.",
                        position: [
                            ['r', 'n', 'b', '.', 'k', 'b', 'n', 'r'],
                            ['p', 'p', 'p', 'p', '.', '.', 'p', 'p'],
                            ['.', '.', '.', '.', '.', 'q', '.', '.'],
                            ['.', '.', '.', '.', 'N', 'p', '.', '.'],
                            ['.', '.', '.', 'P', 'P', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['P', 'P', 'P', '.', '.', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', '.', 'R']
                        ]
                    },
                    {
                        move: "4... d6",
                        description: "Black attacks the knight, maintaining the initiative!",
                        position: [
                            ['r', 'n', 'b', '.', 'k', 'b', 'n', 'r'],
                            ['p', 'p', 'p', '.', '.', '.', 'p', 'p'],
                            ['.', '.', '.', 'p', '.', 'q', '.', '.'],
                            ['.', '.', '.', '.', 'N', 'p', '.', '.'],
                            ['.', '.', '.', 'P', 'P', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['P', 'P', 'P', '.', '.', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', '.', 'R']
                        ]
                    },
                    {
                        move: "5. Nc4",
                        description: "White retreats the knight but Black has dangerous attacking chances!",
                        position: [
                            ['r', 'n', 'b', '.', 'k', 'b', 'n', 'r'],
                            ['p', 'p', 'p', '.', '.', '.', 'p', 'p'],
                            ['.', '.', '.', 'p', '.', 'q', '.', '.'],
                            ['.', '.', '.', '.', '.', 'p', '.', '.'],
                            ['.', '.', 'N', 'P', 'P', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['P', 'P', 'P', '.', '.', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', '.', 'R']
                        ]
                    }
                ]
            },
            
            elephant: {
                name: "Elephant Gambit - Black's Wild Counter-Attack!",
                moves: [
                    {
                        move: "Starting Position",
                        description: "Get ready for one of the most unorthodox and aggressive gambits in chess!",
                        position: [
                            ['r', 'n', 'b', 'q', 'k', 'b', 'n', 'r'],
                            ['p', 'p', 'p', 'p', 'p', 'p', 'p', 'p'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['P', 'P', 'P', 'P', 'P', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', 'N', 'R']
                        ]
                    },
                    {
                        move: "1. e4",
                        description: "White opens with the King's pawn.",
                        position: [
                            ['r', 'n', 'b', 'q', 'k', 'b', 'n', 'r'],
                            ['p', 'p', 'p', 'p', 'p', 'p', 'p', 'p'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', 'P', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['P', 'P', 'P', 'P', '.', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', 'N', 'R']
                        ]
                    },
                    {
                        move: "1... e5",
                        description: "Black responds symmetrically.",
                        position: [
                            ['r', 'n', 'b', 'q', 'k', 'b', 'n', 'r'],
                            ['p', 'p', 'p', 'p', '.', 'p', 'p', 'p'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', 'p', '.', '.', '.'],
                            ['.', '.', '.', '.', 'P', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['P', 'P', 'P', 'P', '.', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', 'N', 'R']
                        ]
                    },
                    {
                        move: "2. Nf3",
                        description: "White develops the knight, attacking the e5 pawn.",
                        position: [
                            ['r', 'n', 'b', 'q', 'k', 'b', 'n', 'r'],
                            ['p', 'p', 'p', 'p', '.', 'p', 'p', 'p'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', 'p', '.', '.', '.'],
                            ['.', '.', '.', '.', 'P', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', 'N', '.', '.'],
                            ['P', 'P', 'P', 'P', '.', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', '.', 'R']
                        ]
                    },
                    {
                        move: "2... d5!?",
                        description: "THE ELEPHANT GAMBIT! Black sacrifices the e-pawn for rapid development!",
                        position: [
                            ['r', 'n', 'b', 'q', 'k', 'b', 'n', 'r'],
                            ['p', 'p', 'p', '.', '.', 'p', 'p', 'p'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', 'p', 'p', '.', '.', '.'],
                            ['.', '.', '.', '.', 'P', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', 'N', '.', '.'],
                            ['P', 'P', 'P', 'P', '.', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', '.', 'R']
                        ]
                    },
                    {
                        move: "3. exd5",
                        description: "White accepts the gambit pawn.",
                        position: [
                            ['r', 'n', 'b', 'q', 'k', 'b', 'n', 'r'],
                            ['p', 'p', 'p', '.', '.', 'p', 'p', 'p'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', 'P', 'p', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', 'N', '.', '.'],
                            ['P', 'P', 'P', 'P', '.', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', '.', 'R']
                        ]
                    },
                    {
                        move: "3... Bd6!",
                        description: "Black develops the bishop with attacking intent towards h2!",
                        position: [
                            ['r', 'n', '.', 'q', 'k', '.', 'n', 'r'],
                            ['p', 'p', 'p', '.', '.', 'p', 'p', 'p'],
                            ['.', '.', '.', 'b', '.', '.', '.', '.'],
                            ['.', '.', '.', 'P', 'p', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', 'N', '.', '.'],
                            ['P', 'P', 'P', 'P', '.', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', '.', 'R']
                        ]
                    },
                    {
                        move: "4. Nxe5",
                        description: "White captures the second pawn.",
                        position: [
                            ['r', 'n', '.', 'q', 'k', '.', 'n', 'r'],
                            ['p', 'p', 'p', '.', '.', 'p', 'p', 'p'],
                            ['.', '.', '.', 'b', '.', '.', '.', '.'],
                            ['.', '.', '.', 'P', 'N', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['P', 'P', 'P', 'P', '.', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', '.', 'R']
                        ]
                    },
                    {
                        move: "4... Qh4!",
                        description: "Black's queen enters the attack! Threatening mate on f2 and h2!",
                        position: [
                            ['r', 'n', '.', '.', 'k', '.', 'n', 'r'],
                            ['p', 'p', 'p', '.', '.', 'p', 'p', 'p'],
                            ['.', '.', '.', 'b', '.', '.', '.', '.'],
                            ['.', '.', '.', 'P', 'N', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', 'q'],
                            ['.', '.', '.', '.', '.', '.', '.', '.'],
                            ['P', 'P', 'P', 'P', '.', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', '.', 'R']
                        ]
                    },
                    {
                        move: "5. Nf3",
                        description: "White defends against the mate threat, but Black has tremendous activity!",
                        position: [
                            ['r', 'n', '.', '.', 'k', '.', 'n', 'r'],
                            ['p', 'p', 'p', '.', '.', 'p', 'p', 'p'],
                            ['.', '.', '.', 'b', '.', '.', '.', '.'],
                            ['.', '.', '.', 'P', '.', '.', '.', '.'],
                            ['.', '.', '.', '.', '.', '.', '.', 'q'],
                            ['.', '.', '.', '.', '.', 'N', '.', '.'],
                            ['P', 'P', 'P', 'P', '.', 'P', 'P', 'P'],
                            ['R', 'N', 'B', 'Q', 'K', 'B', '.', 'R']
                        ]
                    }
                ]
            }
        };
        
        // Global variables
        let currentOpening = null;
        let currentMoveIndex = 0;
        
        // Initialize the board
        function initBoard() {
            const board = document.getElementById('board');
            board.innerHTML = '';
            
            for (let row = 0; row < 8; row++) {
                for (let col = 0; col < 8; col++) {
                    const square = document.createElement('div');
                    square.className = 'square ' + ((row + col) % 2 === 0 ? 'light' : 'dark');
                    
                    // Add coordinates to edge squares
                    if (col === 0) {
                        const rankCoord = document.createElement('span');
                        rankCoord.className = 'coordinates coord-rank';
                        rankCoord.textContent = 8 - row;
                        square.appendChild(rankCoord);
                    }
                    if (row === 7) {
                        const fileCoord = document.createElement('span');
                        fileCoord.className = 'coordinates coord-file';
                        fileCoord.textContent = String.fromCharCode(97 + col);
                        square.appendChild(fileCoord);
                    }
                    
                    board.appendChild(square);
                }
            }
        }
        
        // Render the current position
        function renderPosition(position) {
            const squares = document.querySelectorAll('.square');
            let squareIndex = 0;
            
            for (let row = 0; row < 8; row++) {
                for (let col = 0; col < 8; col++) {
                    const piece = position[row][col];
                    const square = squares[squareIndex];
                    
                    // Clear existing piece
                    const existingPiece = square.querySelector('.piece');
                    if (existingPiece) {
                        existingPiece.remove();
                    }
                    
                    // Add new piece if not empty
                    if (piece !== '.') {
                        const pieceElement = document.createElement('span');
                        pieceElement.className = 'piece';
                        pieceElement.textContent = pieces[piece] || '';
                        square.appendChild(pieceElement);
                    }
                    
                    squareIndex++;
                }
            }
        }
        
        // Load an opening
        function loadOpening() {
            const openingSelect = document.getElementById('opening');
            const selectedOpening = openingSelect.value;
            
            currentOpening = openings[selectedOpening];
            currentMoveIndex = 0;
            
            updateDisplay();
            updateButtons();
        }
        
        // Next move
        function nextMove() {
            if (currentOpening && currentMoveIndex < currentOpening.moves.length - 1) {
                currentMoveIndex++;
                updateDisplay();
                updateButtons();
            }
        }
        
        // Previous move
        function previousMove() {
            if (currentMoveIndex > 0) {
                currentMoveIndex--;
                updateDisplay();
                updateButtons();
            }
        }
        
        // Reset board
        function resetBoard() {
            currentMoveIndex = 0;
            updateDisplay();
            updateButtons();
        }
        
        // Update the display
        function updateDisplay() {
            if (!currentOpening) {
                renderPosition(startingPosition);
                updateMoveInfo("Starting Position", "Choose an opening above and click 'Next' to begin your chess journey!");
                return;
            }
            
            const move = currentOpening.moves[currentMoveIndex];
            renderPosition(move.position);
            updateMoveInfo(move.move, move.description);
        }
        
        // Update move information
        function updateMoveInfo(move, description) {
            const moveInfo = document.getElementById('moveInfo');
            moveInfo.innerHTML = `
                <h3>${move}</h3>
                <p>${description}</p>
            `;
        }
        
        // Update button states
        function updateButtons() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            
            prevBtn.disabled = currentMoveIndex === 0;
            nextBtn.disabled = !currentOpening || currentMoveIndex === currentOpening.moves.length - 1;
        }
        
        // Initialize on load
        window.addEventListener('DOMContentLoaded', () => {
            initBoard();
            loadOpening();
        });
    </script>
</body>
</html>
